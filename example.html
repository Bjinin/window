<!-- HTML 코드 -->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>배경화면 웹 페이지</title>
    <link rel="stylesheet" href="css/main.css">
    <!-- jQuery 및 jQuery UI 라이브러리 추가 -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="window.css" />
 

</head>
<body>
    <div class="background"></div>
    <div class="content">
       <table>
        <tr>
            <td><div class="cell-content"></div><button onclick="openPopup()"><div class="cell-content"><img src="img/trash.png" alt="Your Image" class="icon"><br>휴지통</button>
                <div class="popup">
                    <div id="popupContainer" class="popupContainer">
                        <div class="popupContent">
                            <!--<span class="close" onclick="closePopup()">&times;</span>-->
                            <p>여기는 -- 입니다.^^</p>
                            <!--팝업창 안에 다른 기능을 추가하려면 여기에-->
                            <button id="close-popup" class="close-button">X</button>
                        </div>
                    </div>
                </div>   
            </td>
            <td><div class="cell-content"></div><button onclick="openPopup()"><img src="img/folder.png" alt="folder" class="icon"><br>폴더</button>
            </td>
            <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td><div class="cell-content"></div><button onclick="openPopup()"><img src="img/computer.png" alt="computer" class="icon"><br>내 컴퓨터</td></button><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td><div class="cell-content"></div><button onclick="openPopup()"><img src="img/internet.png" alt="internet" class="icon"><br>인터넷</td></button><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
        </tr>
        <tr>
            <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
        </tr>
         <tr>
            <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
        </tr>
         <tr>
            <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
        </tr>
         <tr>
            <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
        </tr>
        <!-- 나머지 셀들은 이와 같은 방식으로 추가합니다. -->
        
    </table>

        
    <footer>
       <img id="start" src="img/start.png">
       <div id="clock"></div>
    </footer>
    
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>    
<script>
$(function() {
    // 팝업창을 draggable로 만들기
    $('.popup').draggable({
        //handle: '.popup-header'
    }).resizable({
        aspectRatio: false // 팝업창을 일정한 비율로 조절 가능하게 설정
    });
    
    // 각 .cell-content를 draggable로 만들기
    $('.cell-content').draggable({
        containment: 'table',
        cursor: 'move',
        revert: true
    });

    // 각 <td> 요소를 droppable 영역으로 설정하기
    $('td').droppable({
        drop: function(event, ui) {
            // 드롭된 요소의 위치를 이동
            var $droppedCell = $(this);
            var $draggedElement = ui.draggable;

            // 만약 셀 내에 이미지가 없는 경우에만 드롭을 허용
            if (!$droppedCell.has('img').length) {
                $droppedCell.append($draggedElement.css({
                    top: 0,
                    left: 0
                }));
            }
        }
    });
});
       
      function showTime() {
    var date = new Date(); // 현재 날짜와 시간을 가져옵니다.
    // 현재 시간을 로케일 형식으로 변환하되, 옵션을 사용하여 시간과 분만 표시하고 초는 표시하지 않습니다.
    var time = date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', hour12: true });

    document.getElementById('clock').innerText = time; // 'clock' ID를 가진 요소에 시간을 표시합니다.

    setTimeout(showTime, 1000); // 1초마다 함수를 다시 실행합니다.
}

showTime(); // 실시간 시계를 시작합니다

function openPopup() {
    var popup = document.getElementById("popupContainer");
    popup.style.display = "block";
}

function closePopup() {
    var popup = document.getElementById("popupContainer");
    popup.style.display = "none";
}

// 팝업창 닫기 (팝업창 내부의 버튼 클릭 시 팝업창 숨기기)
$('#close-popup').on('click', function() {
        $('#popupContainer').hide();
});
</script>
      

</body>
</html>
